/*
使用U8glib显示图片
图片数据使用取模软件https://tools.clz.me/
*/
#include"HX711.h"
int Score = 0;
int mum;
int Weight = 0;

#include "U8glib.h"
U8GLIB_SSD1306_128X64 u8g(U8G_I2C_OPT_NONE|U8G_I2C_OPT_DEV_0); //硬件SPI驱动构造函数

// draw函数用于包含实现显示内容的语句
//width:128,height:64 
static unsigned char bitmap[] U8G_PROGMEM= {0xff,0xff,0x81,0xff,0xff,0xff,0xff,0xff,0xff,0x3f,0x00,0xfc,0xff,0xff,0xff,0xff,0xff,0x0f,0x7f,0xf0,0xff,0xff,0xff,0xff,0xff,0xc7,0xff,0xe3,0xff,0xff,0xff,0xff,0xff,0xf3,0xff,0xcf,0xff,0xff,0xff,0xff,0xff,0xf9,0x7f,0x9f,0xff,0xff,0xff,0xff,0xff,0xf0,0x7b,0x3e,0xff,0xff,0xff,0xff,0xff,0x38,0xf3,0x7c,0xff,0xff,0xff,0xff,0x7f,0x48,0xf3,0x7c,0x7e,0xff,0xff,0xff,0x7f,0x48,0xf3,0x3d,0x3e,0xff,0xff,0xff,0x3f,0x60,0xe3,0x79,0x9c,0xff,0xff,0xff,0x3f,0x40,0xc2,0x48,0xcc,0x07,0xff,0xff,0x3f,0x02,0x06,0x88,0x4c,0x00,0xf8,0xff,0x3f,0x08,0x0e,0x88,0x0c,0x00,0xe0,0xff,0x3f,0x00,0x10,0x18,0x1c,0x00,0xc0,0xff,0x3f,0x00,0x19,0x02,0x0c,0x00,0x80,0xff,0x3f,0x00,0x12,0x00,0x04,0x00,0x00,0xfe,0x7f,0x00,0x20,0x00,0x06,0x00,0x00,0xf0,0x7f,0x80,0x29,0x04,0x02,0x00,0x00,0xf8,0x3f,0xd8,0x79,0x06,0x03,0x00,0x00,0xe0,0x7f,0xfc,0xf9,0x07,0x01,0x00,0x00,0xe0,0x7f,0xfc,0xff,0x87,0x01,0x00,0x00,0xf0,0xff,0xfc,0xff,0xc3,0x00,0x00,0x00,0xf8,0xff,0xf9,0xff,0x63,0x00,0x00,0x00,0xfc,0xff,0xf3,0xf1,0x11,0x00,0x22,0x00,0xf8,0xff,0xe3,0xf0,0x18,0x00,0x66,0x00,0xc0,0xff,0xc7,0x3f,0xfe,0x00,0x4c,0x18,0xe0,0xff,0x1f,0x00,0x7f,0x00,0xd6,0x70,0xf8,0xff,0x0f,0x00,0x3f,0x00,0xf6,0x01,0xf0,0xff,0x07,0x04,0x3e,0x40,0xf6,0x01,0xf0,0xff,0x01,0x09,0xfc,0x81,0xff,0x03,0xf8,0xff,0x01,0x09,0x00,0x00,0x7f,0x0e,0xf2,0xff,0x00,0x00,0x00,0xc0,0x39,0x06,0xf2,0x7f,0x00,0x00,0xf8,0x0f,0x81,0xf3,0xf3,0x3f,0x01,0x00,0xff,0x3f,0x40,0xf8,0xf3,0x3f,0x01,0x9c,0xff,0xff,0x1c,0xf8,0xf1,0x9f,0x01,0xc2,0xff,0xff,0x21,0xfd,0xf8,0x8f,0x01,0xe2,0xff,0xff,0x23,0x38,0xf2,0x07,0x00,0xf3,0xff,0xff,0x33,0x09,0xf3,0x13,0x00,0xf2,0xff,0xff,0x37,0x80,0xe7,0x97,0x02,0xf8,0xff,0x3f,0x06,0x00,0xe7,0xa7,0x08,0x18,0xff,0x3f,0x8c,0x10,0xee,0x23,0x00,0x08,0xfe,0x3f,0x0c,0x00,0xce,0x03,0x00,0x08,0xfe,0x7f,0x8e,0x04,0xcc,0x01,0x19,0x18,0x3f,0xf8,0x0f,0x90,0xcc,0x41,0x1e,0xf8,0x0f,0xf0,0x0f,0x0d,0xd8,0x81,0xde,0xf8,0x07,0xe6,0x8f,0xe9,0x98,0xe4,0xcf,0xf9,0x33,0xee,0xcf,0xf9,0x90,0xc1,0xc7,0xf9,0x73,0xcf,0xc7,0x03,0x92,0x00,0xe0,0xf1,0x7b,0xcf,0xc7,0x07,0x90,0x64,0xf8,0x01,0x3b,0xee,0xc3,0x7f,0x96,0xcc,0xff,0x01,0xb8,0x0c,0xc0,0x3f,0x97,0xcc,0xff,0xc1,0x03,0x00,0xc0,0x3f,0x87,0x99,0xff,0x09,0x00,0x00,0x98,0x9f,0x87,0x99,0xff,0x78,0xc0,0x09,0x1f,0xc8,0xdf,0x39,0x7f,0xfc,0xc1,0xe3,0x1f,0xc6,0xcf,0x73,0x06,0xfc,0xdf,0xf9,0xcf,0x93,0xe7,0xf3,0x8c,0xfd,0x1f,0xf8,0x4f,0x38,0xe0,0x07,0x78,0xfc,0x03,0xc0,0x0f,0x1c,0xc0,0x0f,0x70,0x00,0xc0,0x01,0x04,0x9e,0xcf,0xff,0x01,0x01,0xe4,0x33,0x80,0xbc,0xcf,0xff,0x00,0xfb,0xe7,0xf3,0x31,0xbc,0xcf,0xff,0x00,0xf1,0xf3,0x33,0x38,0x3c,0xc0,0xff,0x00,0xc3,0xf3,0x03,0x3e,0x3c,0x80};
//示例图片，使用时自己更改字模

void draw1(void) {
  // graphic commands to redraw the complete screen should be placed here  
  u8g.drawXBMP( 0, 0, 64, 64, bitmap);
  //u8g.drawXBMP( 0, 0, width, height, bitmap);
}

void draw2(void) {
  // graphic commands to redraw the complete screen should be placed here  
  u8g.drawXBMP( 0, 0, 64, 64, bitmap);
  //u8g.drawXBMP( 0, 0, width, height, bitmap);
}

void word1() {
  u8g.setFont(u8g_font_unifont);
  u8g.drawStr( 30, 35, "Hello World!");
}

void word2() {
  // 设置字体
  u8g.setFont(u8g_font_unifont);
  // 设置文字及其显示位置
  u8g.drawStr( 35, 35, "good boy!");
}

void word3() {
  // 设置字体
  u8g.setFont(u8g_font_unifont);
  // 设置文字及其显示位置
  u8g.drawStr( 35, 35, "add 5pt");
}

void setup() {
                                 
 
   Serial.begin(9600);
  
   Init_Hx711();
   Serial.print("Welcome to use!\n");

   Get_Maopi();   //clear the weight 
   delay(3000);
                 
}
 
void loop()
{
  int Weight = Get_Weight();  //计算放在传感器上的重物重量
  Serial.print(Weight); //串口显示重量
  Serial.print(" g\n"); //显示单位
  Serial.print("\n");   //显示单位
  delay(3000);        //延时1s
  
  u8g.firstPage();  
  do {
    draw1();
  } 
  while( u8g.nextPage() );
  delay(3000);


  if(Weight<51 && Weight>48 )  //砝码
  {
    int a = 100;
    int Score = Score + a;
    
    
    u8g.firstPage();  
    do {
        word1();
    } 
    while( u8g.nextPage() );
    delay(3000);
    
    u8g.firstPage();  
   do {
      word2();
    } 
   while( u8g.nextPage() );
   delay(3000);

    u8g.firstPage();  
    do {
      draw2();
    } 
    while( u8g.nextPage() );
    delay(3000);
  }

  else if(Weight > 9.5 && Weight < 10.5)
  {
    
  }
  
}
